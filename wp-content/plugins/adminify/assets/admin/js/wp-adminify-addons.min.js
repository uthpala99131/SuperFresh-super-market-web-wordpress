(()=>{var a;(a=jQuery)("body").on("click",".wp-adminify-addons-wrapper .plugin-action-buttons .install-now",(function(t){if(t.preventDefault(),!a(this).hasClass("updating-message")){var s=a(this).attr("data-install-url");!function(a,t){a.removeClass("button-primary"),a.addClass("updating-message"),a.text("Installing..."),jQuery.ajax({url:WP_ADMINIFYCORE.admin_ajax,type:"POST",data:{action:"jltwp_adminify_addons_upgrade_plugin",type:"install",plugin:t,nonce:WP_ADMINIFYCORE.addons_nonce},success:function(s){!0===s.success?(a.removeClass("updating-message"),a.addClass("updated-message installed button-disabled"),a.attr("disabled","disabled"),a.removeAttr("data-install-url"),a.text("Installed!"),setTimeout((function(){var s=jQuery(".plugin-status .plugin-status-not-install[data-plugin-url='"+t+"']");s.text("Active"),s.addClass("plugin-status-active"),s.removeClass("plugin-status-not-install"),s.removeAttr("data-install-url"),a.removeClass("install-now updated-message installed"),a.text("Activated"),a.removeAttr("aria-label")}),500)):(a.removeClass("updating-message"),a.addClass("button-primary"),a.text("Install Now"))}})}(a(this),s)}})),a("body").on("click",".wp-adminify-addons-wrapper .plugin-action-buttons .activate-now",(function(){var t,s,e=a(this).attr("data-plugin-file");t=a(this),s=e,t.addClass("button-disabled"),t.attr("disabled","disabled"),t.text("Processing..."),jQuery.ajax({url:WP_ADMINIFYCORE.admin_ajax,type:"POST",data:{action:"jltwp_adminify_addons_activate_plugin",plugin:s,nonce:WP_ADMINIFYCORE.addons_nonce},success:function(a){if(!0===a.success){var e=jQuery(".plugin-status .plugin-status-inactive[data-plugin-file='"+s+"']");e.text("Active"),e.addClass("plugin-status-active"),e.removeClass("plugin-status-inactive"),t.removeClass("active-now"),t.text("Activated")}else t.removeClass("button-disabled"),t.prop("disabled",!1),t.text("Activated")}})})),a("body").on("click",".wp-adminify-addons-wrapper .plugin-action-buttons .update-now",(function(){if(!a(this).hasClass("updating-message")){var t=a(this).attr("data-plugin");!function(a,t){a.addClass("updating-message"),a.text("Updating..."),jQuery.ajax({url:WP_ADMINIFYCORE.admin_ajax,type:"POST",data:{action:WP_ADMINIFYCORE.plugin_key+"_addons_upgrade_plugin",type:"update",plugin:t,nonce:WP_ADMINIFYCORE.addons_nonce},success:function(s){if(!0===s.success){if(a.removeClass("updating-message"),a.addClass("updated-message button-disabled"),a.attr("disabled","disabled"),a.text("Updated!"),!1===s.data.active){var e=jQuery(".plugin-status .plugin-status-inactive[data-plugin-file='"+t+"']");e.text("Active"),e.addClass("plugin-status-active"),e.removeClass("plugin-status-inactive"),e.removeAttr("data-plugin-file")}}else a.removeClass("updating-message"),a.text("Update Now")}})}(a(this),t)}})),a(".filter-links").on("click","a",(function(t){t.preventDefault();var s=a(this).data("type");a(this).addClass("current").parent().siblings().find("a").removeClass("current"),a("#the-list .plugin-card").each((function(t,e){"all"==s||a(this).hasClass(s)?a(this).removeClass("hide"):a(this).addClass("hide")}))})),a(".wp-adminify-search-plugins #search-plugins").on("keyup",(function(){var t=a(this).val(),s=new RegExp(t,"i");a("#the-list .plugin-card").each((function(){var t=a(this);t.find(".name h3 a, .desc p").text().search(s)>=0||t.addClass("hide"),t.find(".name h3 a, .desc p").text().search(s)>=0&&t.removeClass("hide")}))}))})();