(()=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},i(e)}!function(e,n,a,t){"use strict";var d=d||{};function r(i){return null!==i&&""!==i&&(i=i.toString()).replace(/(<([^>]+)>)/gi,"")}d.funcs={},d.vars={onloaded:!1,$body:e("body"),$window:e(n),$document:e(a),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:e("body").hasClass("rtl")},d.helper={uid:function(i){return(i||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(i){return(i+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(i,n){var a=new RegExp(d.helper.preg_quote(n+"[\\d+]"),"g");i.find(":radio").each((function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)})),i.each((function(i){e(this).find(":input").each((function(){this.name=this.name.replace(a,n+"["+i+"]"),this.orginal_checked&&(this.checked=!0)}))}))},debounce:function(i,e,n){var a;return function(){var t=this,d=arguments,r=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||i.apply(t,d)}),e),r&&i.apply(t,d)}}},e.fn.adminify_clone=function(){for(var i=e.fn.clone.apply(this,arguments),n=this.find("select").add(this.filter("select")),a=i.find("select").add(i.filter("select")),t=0;t<n.length;++t)for(var d=0;d<n[t].options.length;++d)!0===n[t].options[d].selected&&(a[t].options[d].selected=!0);return this.find(":radio").each((function(){this.orginal_checked=this.checked})),i},e.fn.adminify_expand_all=function(){return this.each((function(){e(this).on("click",(function(i){i.preventDefault(),e(".adminify-wrapper").toggleClass("adminify-show-all"),e(".adminify-section").adminify_reload_script(),e(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")}))}))},e.fn.adminify_nav_options=function(){return this.each((function(){var i,a=e(this),t=e(n),d=e("#wpwrap"),r=a.find("a");t.on("hashchange adminify.hashchange",(function(){var a=n.location.hash.replace("#tab=",""),t=a||r.first().attr("href").replace("#tab=",""),o=e('[data-tab-id="'+t+'"]');if(o.length){o.closest(".adminify-tab-item").addClass("adminify-tab-expanded").siblings().removeClass("adminify-tab-expanded"),o.next().is("ul")&&(t=(o=o.next().find("li").first().find("a")).data("tab-id")),r.removeClass("adminify-active"),o.addClass("adminify-active"),i&&i.addClass("hidden");var f=e('[data-section-id="'+t+'"]');f.removeClass("hidden"),f.adminify_reload_script(),e(".adminify-section-id").val(f.index()+1),i=f,d.hasClass("wp-responsive-open")&&(e("html, body").animate({scrollTop:f.offset().top-50},200),d.removeClass("wp-responsive-open"))}})).trigger("adminify.hashchange")}))},e.fn.adminify_nav_metabox=function(){return this.each((function(){var i,n=e(this),a=n.find("a"),d=n.parent().find(".adminify-section");a.each((function(n){e(this).on("click",(function(r){r.preventDefault();var o=e(this);a.removeClass("adminify-active"),o.addClass("adminify-active"),i!==t&&i.addClass("hidden");var f=d.eq(n);f.removeClass("hidden"),f.adminify_reload_script(),i=f}))})),a.first().trigger("click")}))},e.fn.adminify_page_templates=function(){this.length&&e(a).on("change",".editor-page-attributes__template select, #page_template",(function(){var i=e(this).val()||"default";e(".adminify-page-templates").removeClass("adminify-metabox-show").addClass("adminify-metabox-hide"),e(".adminify-page-"+i.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("adminify-metabox-hide").addClass("adminify-metabox-show")}))},e.fn.adminify_post_formats=function(){this.length&&e(a).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',(function(){var i=e(this).val()||"default";i="0"===i?"default":i,e(".adminify-post-formats").removeClass("adminify-metabox-show").addClass("adminify-metabox-hide"),e(".adminify-post-format-"+i).removeClass("adminify-metabox-hide").addClass("adminify-metabox-show")}))},e.fn.adminify_search=function(){return this.each((function(){e(this).find("input").on("change keyup",(function(){var i=e(this).val(),n=e(".adminify-wrapper"),a=n.find(".adminify-section").find("> .adminify-field:not(.adminify-depend-on)"),t=a.find("> .adminify-title, .adminify-search-tags");i.length>3?(a.addClass("adminify-metabox-hide"),n.addClass("adminify-search-all"),t.each((function(){var n=e(this);if(n.text().match(new RegExp(".*?"+i+".*?","i"))){var a=n.closest(".adminify-field");a.removeClass("adminify-metabox-hide"),a.parent().adminify_reload_script()}}))):(a.removeClass("adminify-metabox-hide"),n.removeClass("adminify-search-all"))}))}))},e.fn.adminify_sticky=function(){return this.each((function(){var i=e(this),a=e(n),t=i.find(".adminify-header-inner"),d=parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")),r=0,o=!1,f=function(){o||requestAnimationFrame((function(){var e,n,f;e=i.offset().top,n=Math.max(32,e-r),f=a.innerWidth(),n<=32&&f>782?(t.css({width:i.outerWidth()-d}),i.css({height:i.outerHeight()}).addClass("adminify-sticky")):(t.removeAttr("style"),i.removeAttr("style").removeClass("adminify-sticky")),o=!1})),o=!0},l=function(){r=a.scrollTop(),f()};a.on("scroll resize",l),l()}))},e.fn.adminify_dependency=function(){return this.each((function(){var i=e(this),n=i.children("[data-controller]");if(n.length){var a=e.adminify_deps.createRuleset(),t=e.adminify_deps.createRuleset(),r=[],o=[];n.each((function(){var i=e(this),n=i.data("controller").split("|"),d=i.data("condition").split("|"),f=i.data("value").toString().split("|"),l=!!i.data("depend-global"),s=l?t:a;e.each(n,(function(e,n){var a=f[e]||"",t=d[e]||d[0];(s=s.createRule('[data-depend-id="'+n+'"]',t,a)).include(i),l?o.push(n):r.push(n)}))})),r.length&&e.adminify_deps.enable(i,a,r),o.length&&e.adminify_deps.enable(d.vars.$body,t,o)}}))},e.fn.adminify_field_accordion=function(){return this.each((function(){e(this).find(".adminify-accordion-title").on("click",(function(){var i=e(this),n=i.find(".adminify-accordion-icon"),a=i.next();n.hasClass("fa-angle-right")?n.removeClass("fa-angle-right").addClass("fa-angle-down"):n.removeClass("fa-angle-down").addClass("fa-angle-right"),a.data("opened")||(a.adminify_reload_script(),a.data("opened",!0)),a.toggleClass("adminify-accordion-open")}))}))},e.fn.adminify_field_backup=function(){return this.each((function(){if(n.wp.customize!==t){var i=this,a=e(this),r=(e("body"),a.find(".adminify-import")),o=a.find(".adminify-reset");i.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each((function(i){i._dirty=!1})),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("adminify_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},o.on("click",(function(e){e.preventDefault(),d.vars.is_confirm&&(i.notificationOverlay(),n.wp.ajax.post("adminify-reset",{unique:o.data("unique"),nonce:o.data("nonce")}).done((function(i){n.location.reload(!0)})).fail((function(i){alert(i.error),wp.customize.notifications.remove("adminify_field_backup_notification")})))})),r.on("click",(function(e){e.preventDefault(),d.vars.is_confirm&&(i.notificationOverlay(),n.wp.ajax.post("adminify-import",{unique:r.data("unique"),nonce:r.data("nonce"),data:a.find(".adminify-import-data").val()}).done((function(i){n.location.reload(!0)})).fail((function(i){alert(i.error),wp.customize.notifications.remove("adminify_field_backup_notification")})))}))}}))},e.fn.adminify_field_background=function(){return this.each((function(){e(this).find(".adminify--background-image").adminify_reload_script()}))},e.fn.adminify_field_code_editor=function(){return this.each((function(){if("function"==typeof CodeMirror){var i=e(this),n=i.find("textarea"),a=i.find(".CodeMirror"),t=n.data("editor");a.length&&a.remove();var r=setInterval((function(){if(i.is(":visible")){var a=CodeMirror.fromTextArea(n[0],t);if("default"!==t.theme&&-1===d.vars.code_themes.indexOf(t.theme)){var o=e("<link>");e("#adminify-codemirror-css").after(o),o.attr({rel:"stylesheet",id:"adminify-codemirror-"+t.theme+"-css",href:t.cdnURL+"/theme/"+t.theme+".min.css",type:"text/css",media:"all"}),d.vars.code_themes.push(t.theme)}CodeMirror.modeURL=t.cdnURL+"/mode/%N/%N.min.js",CodeMirror.autoLoadMode(a,t.mode),a.on("change",(function(i,e){n.val(a.getValue()).trigger("change")})),clearInterval(r)}}))}}))},e.fn.adminify_field_date=function(){return this.each((function(){var i=e(this),n=i.find("input"),a=i.find(".adminify-date-settings").data("settings"),t={showAnim:"",beforeShow:function(i,n){e(n.dpDiv).addClass("adminify-datepicker-wrapper")},onClose:function(i,n){e(n.dpDiv).removeClass("adminify-datepicker-wrapper")}};a=e.extend({},a,t),2===n.length&&(a=e.extend({},a,{onSelect:function(i){e(this),n.first();var t=n.first().attr("id")===e(this).attr("id")?"minDate":"maxDate",d=e.datepicker.parseDate(a.dateFormat,i);n.not(this).datepicker("option",t,d)}})),n.each((function(){var i=e(this);i.hasClass("hasDatepicker")&&i.removeAttr("id").removeClass("hasDatepicker"),i.datepicker(a)}))}))},e.fn.adminify_field_datetime=function(){return this.each((function(){var i=e(this),n=i.find("input"),a=i.find(".adminify-datetime-settings").data("settings");a=e.extend({},a,{onReady:function(i,n,a){e(a.calendarContainer).addClass("adminify-flatpickr")}}),2===n.length&&(a=e.extend({},a,{onChange:function(i,a,t){"from"===e(t.element).data("type")?n.last().get(0)._flatpickr.set("minDate",i[0]):n.first().get(0)._flatpickr.set("maxDate",i[0])}})),n.each((function(){e(this).flatpickr(a)}))}))},e.fn.adminify_field_fieldset=function(){return this.each((function(){e(this).find(".adminify-fieldset-content").adminify_reload_script()}))},e.fn.adminify_field_gallery=function(){return this.each((function(){var i,a=e(this),t=a.find(".adminify-edit-gallery"),d=a.find(".adminify-clear-gallery"),r=a.find("ul"),o=a.find("input");a.find("img");a.on("click",".adminify-button, .adminify-edit-gallery",(function(a){var f=e(this),l=o.val(),s=f.hasClass("adminify-edit-gallery")?"edit":"add",c="add"!==s||l.length?"gallery-edit":"gallery";a.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&("gallery"===c?(i=n.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(i=n.wp.media.gallery.edit('[gallery ids="'+l+'"]'),"add"===s&&i.setState("gallery-library")),i.on("update",(function(i){r.empty();var e=i.models.map((function(i){var e=i.toJSON(),n=e.sizes&&e.sizes.thumbnail&&e.sizes.thumbnail.url?e.sizes.thumbnail.url:e.url;return r.append('<li><img src="'+n+'"></li>'),e.id}));o.val(e.join(",")).trigger("change"),d.removeClass("hidden"),t.removeClass("hidden")})))})),d.on("click",(function(i){i.preventDefault(),r.empty(),o.val("").trigger("change"),d.addClass("hidden"),t.addClass("hidden")}))}))},e.fn.adminify_field_group=function(){return this.each((function(){var i=e(this),n=i.children(".adminify-fieldset"),a=n.length?n:i,t=a.children(".adminify-cloneable-wrapper"),r=a.children(".adminify-cloneable-hidden"),o=a.children(".adminify-cloneable-max"),f=a.children(".adminify-cloneable-min"),l=t.data("title-by"),s=t.data("title-by-prefix"),c=t.data("field-id"),m=Boolean(Number(t.data("title-number"))),h=parseInt(t.data("max")),p=parseInt(t.data("min"));t.hasClass("ui-accordion")&&t.find(".ui-accordion-header-icon").remove();var y=function(i){i.find(".adminify-cloneable-title-number").each((function(i){e(this).html(e(this).closest(".adminify-cloneable-item").index()+1+".")}))};t.accordion({header:"> .adminify-cloneable-item > .adminify-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"adminify-cloneable-header-icon fas fa-angle-right",activeHeader:"adminify-cloneable-header-icon fas fa-angle-down"},activate:function(i,n){var a=n.newPanel,t=n.newHeader;if(a.length&&!a.data("opened")){var d=t.find(".adminify-cloneable-value"),r=[];e.each(l,(function(i,e){r.push(a.find('[data-depend-id="'+e+'"]'))})),e.each(r,(function(i,n){n.on("change keyup adminify.keyup",(function(){var i=[];e.each(r,(function(e,n){var a=n.val();a&&i.push(a)})),i.length&&d.text(i.join(s))})).trigger("adminify.keyup")})),a.adminify_reload_script(),a.data("opened",!0),a.data("retry",!1)}else a.data("retry")&&(a.adminify_reload_script_retry(),a.data("retry",!1))}}),t.sortable({axis:"y",handle:".adminify-cloneable-title,.adminify-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(i,e){t.accordion({active:!1}),t.sortable("refreshPositions"),e.item.children(".adminify-cloneable-content").data("retry",!0)},update:function(i,e){d.helper.name_nested_replace(t.children(".adminify-cloneable-item"),c),t.adminify_customizer_refresh(),m&&y(t)}}),a.children(".adminify-cloneable-add").on("click",(function(i){i.preventDefault();var e=t.children(".adminify-cloneable-item").length;if(f.hide(),h&&e+1>h)o.show();else{var n=r.adminify_clone(!0);n.removeClass("adminify-cloneable-hidden"),n.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(c+"[0]",c+"["+e+"]")})),t.append(n),t.accordion("refresh"),t.accordion({active:e}),t.adminify_customizer_refresh(),t.adminify_customizer_listen({closest:!0}),m&&y(t)}}));var u=function(i){i.preventDefault();var n=t.children(".adminify-cloneable-item").length;if(f.hide(),h&&n+1>h)o.show();else{var a=e(this).parent().parent(),r=a.children(".adminify-cloneable-helper").adminify_clone(!0),l=a.children(".adminify-cloneable-title").adminify_clone(),s=a.children(".adminify-cloneable-content").adminify_clone(),p=e('<div class="adminify-cloneable-item" />');p.append(r),p.append(l),p.append(s),t.children().eq(a.index()).after(p),d.helper.name_nested_replace(t.children(".adminify-cloneable-item"),c),t.accordion("refresh"),t.adminify_customizer_refresh(),t.adminify_customizer_listen({closest:!0}),m&&y(t)}};t.children(".adminify-cloneable-item").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-clone",u),a.children(".adminify-cloneable-hidden").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-clone",u);var v=function(i){i.preventDefault();var n=t.children(".adminify-cloneable-item").length;o.hide(),f.hide(),p&&n-1<p?f.show():(e(this).closest(".adminify-cloneable-item").remove(),d.helper.name_nested_replace(t.children(".adminify-cloneable-item"),c),t.adminify_customizer_refresh(),m&&y(t))};t.children(".adminify-cloneable-item").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-remove",v),a.children(".adminify-cloneable-hidden").children(".adminify-cloneable-helper").on("click",".adminify-cloneable-remove",v)}))},e.fn.adminify_field_icon=function(){return this.each((function(){var i=e(this);i.on("click",".adminify-icon-add",(function(a){a.preventDefault();var t=e(this),r=e("#adminify-modal-icon");r.removeClass("hidden"),d.vars.$icon_target=i,d.vars.icon_modal_loaded||(r.find(".adminify-modal-loading").show(),n.wp.ajax.post("adminify-get-icons",{nonce:t.data("nonce")}).done((function(i){r.find(".adminify-modal-loading").hide(),d.vars.icon_modal_loaded=!0;var n=r.find(".adminify-modal-load").html(i.content);n.on("click","i",(function(i){i.preventDefault();var n=e(this).attr("title");d.vars.$icon_target.find(".adminify-icon-preview i").removeAttr("class").addClass(n),d.vars.$icon_target.find(".adminify-icon-preview").removeClass("hidden"),d.vars.$icon_target.find(".adminify-icon-remove").removeClass("hidden"),d.vars.$icon_target.find("input").val(n).trigger("change"),r.addClass("hidden")})),r.on("change keyup",".adminify-icon-search",(function(){var i=e(this).val();n.find("i").each((function(){var n=e(this);n.attr("title").search(new RegExp(i,"i"))<0?n.hide():n.show()}))})),r.on("click",".adminify-modal-close, .adminify-modal-overlay",(function(){r.addClass("hidden")}))})).fail((function(i){r.find(".adminify-modal-loading").hide(),r.find(".adminify-modal-load").html(i.error),r.on("click",(function(){r.addClass("hidden")}))})))})),i.on("click",".adminify-icon-remove",(function(n){n.preventDefault(),i.find(".adminify-icon-preview").addClass("hidden"),i.find("input").val("").trigger("change"),e(this).addClass("hidden")}))}))},e.fn.adminify_field_map=function(){return this.each((function(){if("undefined"!=typeof L){var i=e(this),n=i.find(".adminify--map-osm"),a=i.find(".adminify--map-search input"),t=i.find(".adminify--latitude"),d=i.find(".adminify--longitude"),r=i.find(".adminify--zoom"),o=n.data("map"),f=L.map(n.get(0),o);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f);var l=L.marker(o.center,{draggable:!0}).addTo(f),s=function(i){t.val(i.lat),d.val(i.lng),r.val(f.getZoom())};f.on("click",(function(i){l.setLatLng(i.latlng),s(i.latlng)})),f.on("zoom",(function(){s(l.getLatLng())})),l.on("drag",(function(){s(l.getLatLng())})),a.length||(a=e('[data-depend-id="'+i.find(".adminify--address-field").data("address-field")+'"]'));var c={};a.autocomplete({source:function(i,n){var a=i.term;a in c?n(c[a]):e.get("https://nominatim.openstreetmap.org/search",{format:"json",q:a},(function(i){var e;e=i.length?i.map((function(i){return{value:i.display_name,label:i.display_name,lat:i.lat,lon:i.lon}}),"json"):[{value:"no-data",label:"No Results."}],c[a]=e,n(e)}))},select:function(i,e){if("no-data"===e.item.value)return!1;var n=L.latLng(e.item.lat,e.item.lon);f.panTo(n),l.setLatLng(n),s(n)},create:function(i,n){e(this).autocomplete("widget").addClass("adminify-map-ui-autocomplate")}});var m=function(){var i=L.latLng(t.val(),d.val());f.panTo(i),l.setLatLng(i)};t.on("change",m),d.on("change",m)}}))},e.fn.adminify_field_link=function(){return this.each((function(){var i=e(this),a=i.find(".adminify--link"),t=i.find(".adminify--add"),o=i.find(".adminify--edit"),f=i.find(".adminify--remove"),l=i.find(".adminify--result"),s=d.helper.uid("adminify-wplink-textarea-");t.on("click",(function(i){i.preventDefault(),n.wpLink.open(s)})),o.on("click",(function(n){n.preventDefault(),t.trigger("click"),e("#wp-link-url").val(r(i.find(".adminify--url").val())),e("#wp-link-text").val(r(i.find(".adminify--text").val())),e("#wp-link-target").prop("checked","_blank"===i.find(".adminify--target").val())})),f.on("click",(function(e){e.preventDefault(),i.find(".adminify--url").val("").trigger("change"),i.find(".adminify--text").val(""),i.find(".adminify--target").val(""),t.removeClass("hidden"),o.addClass("hidden"),f.addClass("hidden"),l.parent().addClass("hidden")})),a.attr("id",s).on("change",(function(){var a=n.wpLink.getAttrs(),d=r(a.href),s=r(e("#wp-link-text").val()),c=a.target?a.target:"";i.find(".adminify--url").val(d).trigger("change"),i.find(".adminify--text").val(s),i.find(".adminify--target").val(c),l.html('{url:"'+d+'", text:"'+s+'", target:"'+c+'"}'),t.addClass("hidden"),o.removeClass("hidden"),f.removeClass("hidden"),l.parent().removeClass("hidden")}))}))},e.fn.adminify_field_media=function(){return this.each((function(){var i,a=e(this),t=a.find(".adminify--button"),d=a.find(".adminify--remove"),r=t.data("library")&&t.data("library").split(",")||"",o=!!a.hasClass("adminify-assign-field-background")&&a.closest(".adminify-field-background").find(".adminify--auto-attributes");t.on("click",(function(e){e.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&(i||(i=n.wp.media({library:{type:r}})).on("select",(function(){var e,n=i.state().get("selection").first().attributes,f=t.data("preview-size")||"thumbnail";r.length&&-1===r.indexOf(n.subtype)&&-1===r.indexOf(n.type)||(a.find(".adminify--id").val(n.id),a.find(".adminify--width").val(n.width),a.find(".adminify--height").val(n.height),a.find(".adminify--alt").val(n.alt),a.find(".adminify--title").val(n.title),a.find(".adminify--description").val(n.description),e=void 0!==n.sizes&&void 0!==n.sizes.thumbnail&&"thumbnail"===f?n.sizes.thumbnail.url:void 0!==n.sizes&&void 0!==n.sizes.full?n.sizes.full.url:"image"===n.type?n.url:n.icon,o&&o.removeClass("adminify--attributes-hidden"),d.removeClass("hidden"),a.find(".adminify--preview").removeClass("hidden"),a.find(".adminify--src").attr("src",e),a.find(".adminify--thumbnail").val(e),a.find(".adminify--url").val(n.url).trigger("change"))})),i.open())})),d.on("click",(function(i){i.preventDefault(),o&&o.addClass("adminify--attributes-hidden"),d.addClass("hidden"),a.find("input").val(""),a.find(".adminify--preview").addClass("hidden"),a.find(".adminify--url").trigger("change")}))}))},e.fn.adminify_field_repeater=function(){return this.each((function(){var i=e(this),n=i.children(".adminify-fieldset"),a=n.length?n:i,t=a.children(".adminify-repeater-wrapper"),r=a.children(".adminify-repeater-hidden"),o=a.children(".adminify-repeater-max"),f=a.children(".adminify-repeater-min"),l=t.data("field-id"),s=parseInt(t.data("max")),c=parseInt(t.data("min"));t.children(".adminify-repeater-item").children(".adminify-repeater-content").adminify_reload_script(),t.sortable({axis:"y",handle:".adminify-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(i,e){d.helper.name_nested_replace(t.children(".adminify-repeater-item"),l),t.adminify_customizer_refresh(),e.item.adminify_reload_script_retry()}}),a.children(".adminify-repeater-add").on("click",(function(i){i.preventDefault();var e=t.children(".adminify-repeater-item").length;if(f.hide(),s&&e+1>s)o.show();else{var n=r.adminify_clone(!0);n.removeClass("adminify-repeater-hidden"),n.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","").replace(l+"[0]",l+"["+e+"]")})),t.append(n),n.children(".adminify-repeater-content").adminify_reload_script(),t.adminify_customizer_refresh(),t.adminify_customizer_listen({closest:!0})}}));var m=function(i){i.preventDefault();var n=t.children(".adminify-repeater-item").length;if(f.hide(),s&&n+1>s)o.show();else{var a=e(this).parent().parent().parent(),r=a.children(".adminify-repeater-content").adminify_clone(),c=a.children(".adminify-repeater-helper").adminify_clone(!0),m=e('<div class="adminify-repeater-item" />');m.append(r),m.append(c),t.children().eq(a.index()).after(m),m.children(".adminify-repeater-content").adminify_reload_script(),d.helper.name_nested_replace(t.children(".adminify-repeater-item"),l),t.adminify_customizer_refresh(),t.adminify_customizer_listen({closest:!0})}};t.children(".adminify-repeater-item").children(".adminify-repeater-helper").on("click",".adminify-repeater-clone",m),a.children(".adminify-repeater-hidden").children(".adminify-repeater-helper").on("click",".adminify-repeater-clone",m);var h=function(i){i.preventDefault();var n=t.children(".adminify-repeater-item").length;o.hide(),f.hide(),c&&n-1<c?f.show():(e(this).closest(".adminify-repeater-item").remove(),d.helper.name_nested_replace(t.children(".adminify-repeater-item"),l),t.adminify_customizer_refresh())};t.children(".adminify-repeater-item").children(".adminify-repeater-helper").on("click",".adminify-repeater-remove",h),a.children(".adminify-repeater-hidden").children(".adminify-repeater-helper").on("click",".adminify-repeater-remove",h)}))},e.fn.adminify_field_slider=function(){return this.each((function(){var i=e(this),n=i.find("input"),a=i.find(".adminify-slider-ui"),t=n.data(),d=n.val()||0;a.hasClass("ui-slider")&&a.empty(),a.slider({range:"min",value:d,min:t.min||0,max:t.max||100,step:t.step||1,slide:function(i,e){n.val(e.value).trigger("change")}}),n.on("keyup",(function(){a.slider("value",n.val())}))}))},e.fn.adminify_field_sortable=function(){return this.each((function(){var i=e(this).find(".adminify-sortable");i.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,n){i.adminify_customizer_refresh()}}),i.find(".adminify-sortable-content").adminify_reload_script()}))},e.fn.adminify_field_sorter=function(){return this.each((function(){var i=e(this),n=i.find(".adminify-enabled"),a=i.find(".adminify-disabled"),t=!!a.length&&a;n.sortable({connectWith:t,placeholder:"ui-sortable-placeholder",update:function(e,n){var a=n.item.find("input");n.item.parent().hasClass("adminify-enabled")?a.attr("name",a.attr("name").replace("disabled","enabled")):a.attr("name",a.attr("name").replace("enabled","disabled")),i.adminify_customizer_refresh()}}),t&&t.sortable({connectWith:n,placeholder:"ui-sortable-placeholder",update:function(e,n){i.adminify_customizer_refresh()}})}))},e.fn.adminify_field_spinner=function(){return this.each((function(){var i=e(this),n=i.find("input"),a=i.find(".ui-button"),t=n.data();a.length&&a.remove(),n.spinner({min:t.min||0,max:t.max||100,step:t.step||1,create:function(i,e){t.unit&&n.after('<span class="ui-button adminify--unit">'+t.unit+"</span>")},spin:function(i,e){n.val(e.value).trigger("change")}})}))},e.fn.adminify_field_switcher=function(){return this.each((function(){var i=e(this).find(".adminify--switcher");i.on("click",(function(){var e=0,n=i.find("input");i.hasClass("adminify--active")?i.removeClass("adminify--active"):(e=1,i.addClass("adminify--active")),n.val(e).trigger("change")}))}))},e.fn.adminify_field_tabbed=function(){return this.each((function(){var i=e(this),n=i.find(".adminify-tabbed-nav a"),a=i.find(".adminify-tabbed-content");a.eq(0).adminify_reload_script(),n.on("click",(function(i){i.preventDefault();var n=e(this),t=n.index(),d=a.eq(t);n.addClass("adminify-tabbed-active").siblings().removeClass("adminify-tabbed-active"),d.adminify_reload_script(),d.removeClass("hidden").siblings().addClass("hidden")}))}))},e.fn.adminify_field_typography=function(){return this.each((function(){var n=this,a=e(this),t=[],r=adminify_typography_json.webfonts,o=adminify_typography_json.googlestyles,f=adminify_typography_json.defaultstyles;n.sanitize_subset=function(i){return i=(i=i.replace("-ext"," Extended")).charAt(0).toUpperCase()+i.slice(1)},n.sanitize_style=function(i){return o[i]?o[i]:i},n.load_google_font=function(e,n,a){e&&"object"===("undefined"==typeof WebFont?"undefined":i(WebFont))&&(n=n?n.replace("normal",""):"",a=a?a.replace("normal",""):"",(n||a)&&(e=e+":"+n+a),-1===t.indexOf(e)&&WebFont.load({google:{families:[e]}}),t.push(e))},n.append_select_options=function(i,a,t,d,r){i.find("option").not(":first").remove();var o="";e.each(a,(function(i,e){var a,f=e;a=r?t&&-1!==t.indexOf(e)?" selected":"":t&&t===e?" selected":"","subset"===d?f=n.sanitize_subset(e):"style"===d&&(f=n.sanitize_style(e)),o+='<option value="'+e+'"'+a+">"+f+"</option>"})),i.append(o).trigger("adminify.change").trigger("chosen:updated")},n.init=function(){var t=[],o=a.find(".adminify--typography"),l=a.find(".adminify--type"),s=a.find(".adminify--block-font-style"),c=o.data("unit"),m=o.data("line-height-unit"),h=o.data("exclude")?o.data("exclude").split(","):[];a.find(".adminify--chosen").length&&a.find("select").each((function(){var i=e(this),n=i.parent().find(".chosen-container");n.length&&n.remove(),i.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})}));var p=a.find(".adminify--font-family"),y=p.val();p.find("option").not(":first-child").remove();var u="";e.each(r,(function(n,a){h&&-1!==h.indexOf(n)||(u+='<optgroup label="'+a.label+'">',e.each(a.fonts,(function(e,a){a="object"===i(a)?e:a,u+='<option value="'+a+'" data-type="'+n+'"'+(a===y?" selected":"")+">"+a+"</option>"})),u+="</optgroup>")})),p.append(u).trigger("chosen:updated");var v=a.find(".adminify--block-font-style");if(v.length){var g=a.find(".adminify--font-style-select"),_=g.val()?g.val().replace(/normal/g,""):"";g.on("change adminify.change",(function(i){var e=g.val();!e&&t&&-1===t.indexOf("normal")&&(e=t[0]);var n=e&&"italic"!==e&&"normal"===e?"normal":"",d=e&&"italic"!==e&&"normal"!==e?e.replace("italic",""):n,r=e&&"italic"===e.substr(-6)?"italic":"";a.find(".adminify--font-weight").val(d),a.find(".adminify--font-style").val(r)}));var b=a.find(".adminify--block-extra-styles");if(b.length)var w=a.find(".adminify--extra-styles"),C=w.val()}var k=a.find(".adminify--block-subset");if(k.length)var x=a.find(".adminify--subset"),z=x.val(),D=x.data("multiple")||!1;var I=a.find(".adminify--block-backup-font-family");p.on("change adminify.change",(function(i){k.length&&k.addClass("hidden"),b.length&&b.addClass("hidden"),I.length&&I.addClass("hidden");var e=p.find(":selected"),a=e.val(),d=e.data("type");if(d&&a){if("google"!==d&&"custom"!==d||!I.length||I.removeClass("hidden"),v.length){var o=f;"google"===d&&r[d].fonts[a][0]?o=r[d].fonts[a][0]:"custom"===d&&r[d].fonts[a]&&(o=r[d].fonts[a]),t=o;var c=-1!==o.indexOf("normal")?"normal":o[0],m=_&&-1!==o.indexOf(_)?_:c;n.append_select_options(g,o,m,"style"),_=!1,v.removeClass("hidden"),"google"===d&&b.length&&o.length>1&&(n.append_select_options(w,o,C,"style",!0),C=!1,b.removeClass("hidden"))}if("google"===d&&k.length&&r[d].fonts[a][1]){var h=r[d].fonts[a][1],y=h.length<2&&"latin"!==h[0]?h[0]:"",u=z&&-1!==h.indexOf(z)?z:y;u=D&&z?z:u,n.append_select_options(x,h,u,"subset",D),z=!1,k.removeClass("hidden")}}else s.find(":input").val(""),k.length&&(x.find("option").not(":first-child").remove(),x.trigger("chosen:updated")),v.length&&(g.find("option").not(":first-child").remove(),g.trigger("chosen:updated"));l.val(d)})).trigger("adminify.change");var O=a.find(".adminify--block-preview");if(O.length){var S=a.find(".adminify--preview");a.on("change",d.helper.debounce((function(i){O.removeClass("hidden");var e=p.val(),t=a.find(".adminify--font-weight").val(),d=a.find(".adminify--font-style").val(),r=a.find(".adminify--font-size").val(),o=a.find(".adminify--font-variant").val(),f=a.find(".adminify--line-height").val(),l=a.find(".adminify--text-align").val(),s=a.find(".adminify--text-transform").val(),h=a.find(".adminify--text-decoration").val(),y=a.find(".adminify--color").val(),u=a.find(".adminify--word-spacing").val(),v=a.find(".adminify--letter-spacing").val(),g=a.find(".adminify--custom-style").val();"google"===a.find(".adminify--type").val()&&n.load_google_font(e,t,d);var _={};e&&(_.fontFamily=e),t&&(_.fontWeight=t),d&&(_.fontStyle=d),o&&(_.fontVariant=o),r&&(_.fontSize=r+c),f&&(_.lineHeight=f+m),v&&(_.letterSpacing=v+c),u&&(_.wordSpacing=u+c),l&&(_.textAlign=l),s&&(_.textTransform=s),h&&(_.textDecoration=h),y&&(_.color=y),S.removeAttr("style"),g&&S.attr("style",g),S.css(_)}),100)),O.on("click",(function(){S.toggleClass("adminify--black-background");var i=O.find(".adminify--toggle");i.hasClass("fa-toggle-off")?i.removeClass("fa-toggle-off").addClass("fa-toggle-on"):i.removeClass("fa-toggle-on").addClass("fa-toggle-off")})),O.hasClass("hidden")||a.trigger("change")}},n.init()}))},e.fn.adminify_field_upload=function(){return this.each((function(){var i,a=e(this),t=a.find("input"),d=a.find(".adminify--button"),r=a.find(".adminify--remove"),o=a.find(".adminify--preview"),f=a.find(".adminify--src"),l=d.data("library")&&d.data("library").split(",")||"";d.on("click",(function(e){e.preventDefault(),void 0!==n.wp&&n.wp.media&&n.wp.media.gallery&&(i||(i=n.wp.media({library:{type:l}})).on("select",(function(){var e=i.state().get("selection").first().attributes;l.length&&-1===l.indexOf(e.subtype)&&-1===l.indexOf(e.type)||t.val(e.url).trigger("change")})),i.open())})),r.on("click",(function(i){i.preventDefault(),t.val("").trigger("change")})),t.on("change",(function(i){var n=t.val();n?r.removeClass("hidden"):r.addClass("hidden"),o.length&&(-1!==e.inArray(n.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(o.removeClass("hidden"),f.attr("src",n)):o.addClass("hidden"))}))}))},e.fn.adminify_field_wp_editor=function(){return this.each((function(){if(void 0!==n.wp.editor&&void 0!==n.tinyMCEPreInit&&void 0!==n.tinyMCEPreInit.mceInit.adminify_wp_editor){var i=e(this),a=i.find(".adminify-wp-editor"),t=i.find("textarea");(i.find(".wp-editor-wrap").length||i.find(".mce-container").length)&&(a.empty(),a.append(t),t.css("display",""));var r=d.helper.uid("adminify-editor-");t.attr("id",r);var o={tinymce:n.tinyMCEPreInit.mceInit.adminify_wp_editor,quicktags:n.tinyMCEPreInit.qtInit.adminify_wp_editor},f=a.data("editor-settings"),l=wp.oldEditor?wp.oldEditor:wp.editor;l&&l.hasOwnProperty("autop")&&(wp.editor.autop=l.autop,wp.editor.removep=l.removep,wp.editor.initialize=l.initialize);o.tinymce=e.extend({},o.tinymce,{selector:"#"+r,setup:function(i){i.on("change keyup",(function(){var e=f.wpautop?i.getContent():wp.editor.removep(i.getContent());t.val(e).trigger("change")}))}}),!1===f.tinymce&&(o.tinymce=!1,a.addClass("adminify-no-tinymce")),!1===f.quicktags&&(o.quicktags=!1,a.addClass("adminify-no-quicktags"));var s=setInterval((function(){i.is(":visible")&&(n.wp.editor.initialize(r,o),clearInterval(s))}));if(f.media_buttons&&n.adminify_media_buttons){var c=a.find(".wp-media-buttons");if(c.length)c.find(".adminify-shortcode-button").data("editor-id",r);else{var m=e(n.adminify_media_buttons);m.find(".adminify-shortcode-button").data("editor-id",r),a.prepend(m)}}}}))},e.fn.adminify_confirm=function(){return this.each((function(){e(this).on("click",(function(i){var a=e(this).data("confirm")||n.adminify_vars.i18n.confirm;if(!confirm(a))return i.preventDefault(),!1;d.vars.is_confirm=!0,d.vars.form_modified=!1}))}))},e.fn.serializeObject=function(){var i={};return e.each(this.serializeArray(),(function(n,a){var d=a.name,r=a.value;i[d]=i[d]===t?r:e.isArray(i[d])?i[d].concat(r):[i[d],r]})),i},e.fn.adminify_save=function(){return this.each((function(){var i,a=e(this),t=e(".adminify-save"),r=e(".adminify-options"),o=!1;a.on("click",(function(f){if(!o){var l=a.data("save"),s=a.val();t.attr("value",l),a.hasClass("adminify-save-ajax")?(r.addClass("adminify-saving"),t.prop("disabled",!0),n.wp.ajax.post("adminify_"+r.data("unique")+"_ajax_save",{data:e("#adminify-form").serializeJSONADMINIFY()}).done((function(n){if(e(".adminify-error").remove(),Object.keys(n.errors).length){var a='<i class="adminify-label-error adminify-error">!</i>';e.each(n.errors,(function(i,n){var t=e('[data-depend-id="'+i+'"]'),d=e('a[href="#tab='+t.closest(".adminify-section").data("section-id")+'"]'),r=d.closest(".adminify-tab-item");t.closest(".adminify-fieldset").append('<p class="adminify-error adminify-error-text">'+n+"</p>"),d.find(".adminify-error").length||d.append(a),r.find(".adminify-arrow .adminify-error").length||r.find(".adminify-arrow").append(a)}))}r.removeClass("adminify-saving"),t.prop("disabled",!1).attr("value",s),o=!1,d.vars.form_modified=!1,d.vars.$form_warning.hide(),clearTimeout(i);var f=e(".adminify-form-success");f.empty().append(n.notice).fadeIn("fast",(function(){i=setTimeout((function(){f.fadeOut("fast")}),1e3)}))})).fail((function(i){alert(i.error)}))):d.vars.form_modified=!1}o=!0}))}))},e.fn.adminify_options=function(){return this.each((function(){var i=e(this),r=i.find(".adminify-content"),o=i.find(".adminify-form-success"),f=i.find(".adminify-form-warning"),l=i.find(".adminify-header .adminify-save");d.vars.$form_warning=f,f.length&&(n.onbeforeunload=function(){return!!d.vars.form_modified||t},r.on("change keypress",":input",(function(){d.vars.form_modified||(o.hide(),f.fadeIn("fast"),d.vars.form_modified=!0)}))),o.hasClass("adminify-form-show")&&setTimeout((function(){o.fadeOut("fast")}),1e3),e(a).keydown((function(i){if((i.ctrlKey||i.metaKey)&&83===i.which)return l.trigger("click"),i.preventDefault(),!1}))}))},e.fn.adminify_taxonomy=function(){return this.each((function(){var i=e(this),n=i.parents("form");if("addtag"===n.attr("id")){var a=n.find("#submit"),t=i.find(".adminify-field").adminify_clone();a.on("click",(function(){n.find(".form-required").hasClass("form-invalid")||(i.data("inited",!1),i.empty(),i.html(t),t=t.adminify_clone(),i.adminify_reload_script())}))}}))},e.fn.adminify_shortcode=function(){var r=this;return r.shortcode_parse=function(i,n){var a="";return e.each(i,(function(i,t){a+="["+(n=n||i),e.each(t,(function(i,e){"content"===i?(a+="]",a+=e,a+="[/"+n):a+=r.shortcode_tags(i,e)})),a+="]"})),a},r.shortcode_tags=function(n,a){var t="";return""!==a&&("object"!==i(a)||e.isArray(a)?t+=" "+n+'="'+a.toString()+'"':e.each(a,(function(i,e){if("background-image"===i)e=e.url?e.url:"";""!==e&&(t+=" "+i+'="'+e.toString()+'"')}))),t},r.insertAtChars=function(i,e){var n=void 0!==i[0].name?i[0]:i;return n.value.length&&void 0!==n.selectionStart?(n.focus(),n.value.substring(0,n.selectionStart)+e+n.value.substring(n.selectionEnd,n.value.length)):(n.focus(),e)},r.send_to_editor=function(i,n){var a;if("undefined"!=typeof tinymce&&(a=tinymce.get(n)),a&&!a.isHidden())a.execCommand("mceInsertContent",!1,i);else{var t=e("#"+n);t.val(r.insertAtChars(t,i)).trigger("change")}},this.each((function(){var i,o,f,l,s,c,m,h,p,y=e(this),u=y.find(".adminify-modal-load"),v=(y.find(".adminify-modal-content"),y.find(".adminify-modal-insert")),g=y.find(".adminify-modal-loading"),_=y.find("select"),b=y.data("modal-id"),w=y.data("nonce");e(a).on("click",'.adminify-shortcode-button[data-modal-id="'+b+'"]',(function(n){n.preventDefault(),p=e(this),i=p.data("editor-id")||!1,o=p.data("target-id")||!1,f=p.data("gutenberg-id")||!1,y.removeClass("hidden"),y.hasClass("adminify-shortcode-single")&&s===t&&_.trigger("change")})),_.on("change",(function(){var i=e(this),a=i.find(":selected");l=i.val(),s=a.data("shortcode"),c=a.data("view")||"normal",m=a.data("group")||s,u.empty(),l?(g.show(),n.wp.ajax.post("adminify-get-shortcode-"+b,{shortcode_key:l,nonce:w}).done((function(i){g.hide();var n=e(i.content).appendTo(u);v.parent().removeClass("hidden"),h=n.find(".adminify--repeat-shortcode").adminify_clone(),n.adminify_reload_script(),n.find(".adminify-fields").adminify_reload_script()}))):v.parent().addClass("hidden")})),v.on("click",(function(a){if(a.preventDefault(),!v.prop("disabled")&&!v.attr("disabled")){var t="",d=y.find(".adminify-field:not(.adminify-depend-on)").find(":input:not(.ignore)").serializeObjectADMINIFY();switch(c){case"contents":var l=s?d[s]:d;e.each(l,(function(i,e){var n=s||i;t+="["+n+"]"+e+"[/"+n+"]"}));break;case"group":t+="["+s,e.each(d[s],(function(i,e){t+=r.shortcode_tags(i,e)})),t+="]",t+=r.shortcode_parse(d[m],m),t+="[/"+s+"]";break;case"repeater":t+=r.shortcode_parse(d[m],m);break;default:t+=r.shortcode_parse(d)}if(t=""===t?"["+s+"]":t,f){var h=n.adminify_gutenberg_props.attributes.hasOwnProperty("shortcode")?n.adminify_gutenberg_props.attributes.shortcode:"";n.adminify_gutenberg_props.setAttributes({shortcode:h+t})}else if(i)r.send_to_editor(t,i);else{var u=o?e(o):p.parent().find("textarea");u.val(r.insertAtChars(u,t)).trigger("change")}y.addClass("hidden")}})),y.on("click",".adminify--repeat-button",(function(i){i.preventDefault();var e=y.find(".adminify--repeatable"),n=h.adminify_clone(),a=n.find(".adminify-repeat-remove");n.appendTo(e);n.find(".adminify-fields").adminify_reload_script(),d.helper.name_nested_replace(y.find(".adminify--repeat-shortcode"),m),a.on("click",(function(){n.remove(),d.helper.name_nested_replace(y.find(".adminify--repeat-shortcode"),m)}))})),y.on("click",".adminify-modal-close, .adminify-modal-overlay",(function(){y.addClass("hidden")}))}))},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var i=parseInt(this._color,10).toString(16);if(this.error)return"";if(i.length<6)for(var e=6-i.length-1;e>=0;e--)i="0"+i;return"#"+i}),d.funcs.parse_color=function(i){var e=i.replace(/\s+/g,""),n=-1!==e.indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100;return{value:e,transparent:n,rgba:n<100}},e.fn.adminify_color=function(){return this.each((function(){var i,a=e(this),t=d.funcs.parse_color(a.val()),r=!n.adminify_vars.color_palette.length||n.adminify_vars.color_palette;a.hasClass("wp-color-picker")&&a.closest(".wp-picker-container").after(a).remove(),a.wpColorPicker({palettes:r,change:function(e,n){var t=n.color.toString();i.removeClass("adminify--transparent-active"),i.find(".adminify--transparent-offset").css("background-color",t),a.val(t).trigger("change")},create:function(){i=a.closest(".wp-picker-container");var n=a.data("a8cIris"),r=e('<div class="adminify--transparent-wrap"><div class="adminify--transparent-slider"></div><div class="adminify--transparent-offset"></div><div class="adminify--transparent-text"></div><div class="adminify--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(i.find(".wp-picker-holder")),o=r.find(".adminify--transparent-slider"),f=r.find(".adminify--transparent-text"),l=r.find(".adminify--transparent-offset"),s=r.find(".adminify--transparent-button");"transparent"===a.val()&&i.addClass("adminify--transparent-active"),s.on("click",(function(){"transparent"!==a.val()?(a.val("transparent").trigger("change").removeClass("iris-error"),i.addClass("adminify--transparent-active")):(a.val(n._color.toString()).trigger("change"),i.removeClass("adminify--transparent-active"))})),o.slider({value:t.transparent,step:1,min:0,max:100,slide:function(i,e){var t=parseFloat(e.value/100);n._color._alpha=t,a.wpColorPicker("color",n._color.toString()),f.text(1===t||0===t?"":t)},create:function(){var e=parseFloat(t.transparent/100),r=e<1?e:"";f.text(r),l.css("background-color",t.value),i.on("click",".wp-picker-clear",(function(){n._color._alpha=1,f.text(""),o.slider("option","value",100),i.removeClass("adminify--transparent-active"),a.trigger("change")})),i.on("click",".wp-picker-default",(function(){var e=d.funcs.parse_color(a.data("default-color")),t=parseFloat(e.transparent/100),r=t<1?t:"";n._color._alpha=t,f.text(r),o.slider("option","value",e.transparent),"transparent"===e.value&&(a.removeClass("iris-error"),i.addClass("adminify--transparent-active"))}))}})}})}))},e.fn.adminify_chosen=function(){return this.each((function(){var i=e(this),a=i.parent().find(".chosen-container"),d=i.hasClass("adminify-chosen-sortable")||!1,r=i.hasClass("adminify-chosen-ajax")||!1,o=i.attr("multiple")||!1,f=o?"100%":"auto",l=e.extend({allow_single_deselect:!0,disable_search_threshold:10,width:f,no_results_text:n.adminify_vars.i18n.no_results_text},i.data("chosen-settings"));if(a.length&&a.remove(),r){var s=e.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:n.adminify_vars.i18n.typing_text,searching_text:n.adminify_vars.i18n.searching_text,no_results_text:n.adminify_vars.i18n.no_results_text},i.data("chosen-settings"));i.ADMINIFYAjaxChosen(s)}else i.chosen(l);if(o){var c=i.parent().find(".adminify-hide-select"),m=c.val()||[];i.on("change",(function(i,e){e&&e.selected?c.append('<option value="'+e.selected+'" selected="selected">'+e.selected+"</option>"):e&&e.deselected&&c.find('option[value="'+e.deselected+'"]').remove(),n.wp.customize!==t&&0===c.children().length&&c.data("customize-setting-link")&&n.wp.customize.control(c.data("customize-setting-link")).setting.set(""),c.trigger("change")})),i.ADMINIFYChosenOrder(m,!0)}if(d){var h=i.parent().find(".chosen-container").find(".chosen-choices");h.bind("mousedown",(function(i){e(i.target).is("span")&&i.stopPropagation()})),h.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(i,e){e.placeholder.width(e.item.innerWidth()),e.placeholder.height(e.item.innerHeight())},update:function(n,a){var t="",d=i.data("chosen"),r=i.parent().find(".adminify-hide-select");h.find(".search-choice-close").each((function(){var i=e(this).data("option-array-index");e.each(d.results_data,(function(e,n){n.array_index===i&&(t+='<option value="'+n.value+'" selected>'+n.value+"</option>")}))})),r.children().remove(),r.append(t),r.trigger("change")}})}}))},e.fn.adminify_checkbox=function(){return this.each((function(){var i=e(this),n=i.find(".adminify--input"),a=i.find(".adminify--checkbox");a.on("click",(function(){n.val(Number(a.prop("checked"))).trigger("change")}))}))},e.fn.adminify_siblings=function(){return this.each((function(){var i=e(this),n=i.find(".adminify--sibling"),a=i.data("multiple")||!1;n.on("click",(function(){var n=e(this);a?n.hasClass("adminify--active")?(n.removeClass("adminify--active"),n.find("input").prop("checked",!1).trigger("change")):(n.addClass("adminify--active"),n.find("input").prop("checked",!0).trigger("change")):(i.find("input").prop("checked",!1),n.find("input").prop("checked",!0).trigger("change"),n.addClass("adminify--active").siblings().removeClass("adminify--active"))}))}))},e.fn.adminify_help=function(){return this.each((function(){var i,n,a=e(this);a.on({mouseenter:function(){i=e('<div class="adminify-tooltip"></div>').html(a.find(".adminify-help-text").html()).appendTo("body"),n=d.vars.is_rtl?a.offset().left+24:a.offset().left-i.outerWidth(),i.css({top:a.offset().top-(i.outerHeight()/2-14),left:n})},mouseleave:function(){i!==t&&i.remove()}})}))},e.fn.adminify_customizer_refresh=function(){return this.each((function(){var i=e(this),d=i.closest(".adminify-customize-complex");if(d.length){var r=d.data("unique-id");if(r===t)return;var o=d.find(":input"),f=d.data("option-id"),l=o.serializeObjectADMINIFY(),s=!e.isEmptyObject(l)&&l[r]&&l[r][f]?l[r][f]:"",c=n.wp.customize.control(r+"["+f+"]");c.setting._value=null,c.setting.set(s)}else i.find(":input").first().trigger("change");e(a).trigger("adminify-customizer-refresh",i)}))},e.fn.adminify_customizer_listen=function(i){var a=e.extend({closest:!1},i);return this.each((function(){if(n.wp.customize!==t){var i=a.closest?e(this).closest(".adminify-customize-complex"):e(this),d=i.find(":input"),r=i.data("unique-id"),o=i.data("option-id");r!==t&&d.on("change keyup adminify.change",(function(){var a=i.find(":input").serializeObjectADMINIFY(),t=!e.isEmptyObject(a)&&a[r]&&a[r][o]?a[r][o]:"";n.wp.customize.control(r+"["+o+"]").setting.set(t)}))}}))},e(a).on("expanded",".control-section",(function(){var i=e(this);if(i.hasClass("open")&&!i.data("inited")){var n=i.find(".adminify-customize-field"),a=i.find(".adminify-customize-complex");n.length&&(i.adminify_dependency(),n.adminify_reload_script({dependency:!1}),a.adminify_customizer_listen()),i.data("inited",!0)}})),d.vars.$window.on("resize adminify.resize",d.helper.debounce((function(i){(navigator.userAgent.indexOf("AppleWebKit/")>-1?d.vars.$window.width():n.innerWidth)<=782&&!d.vars.onloaded&&(e(".adminify-section").adminify_reload_script(),d.vars.onloaded=!0)}),200)).trigger("adminify.resize"),e.fn.adminify_widgets=function(){return this.each((function(){e(a).on("widget-added widget-updated",(function(i,e){var n=e.find(".adminify-fields");n.length&&n.adminify_reload_script()})),e(a).on("click",".widget-top",(function(i){var n=e(this).parent().find(".adminify-fields");n.length&&n.adminify_reload_script()})),e(".widgets-sortables, .control-section-sidebar").on("sortstop",(function(i,e){e.item.find(".adminify-fields").adminify_reload_script_retry()}))}))},e.fn.adminify_nav_menu=function(){return this.each((function(){var i=e(this);i.on("click","a.item-edit",(function(){e(this).closest("li.menu-item").find(".adminify-fields").adminify_reload_script()})),i.on("sortstop",(function(i,e){e.item.find(".adminify-fields").adminify_reload_script_retry()}))}))},e.fn.adminify_reload_script_retry=function(){return this.each((function(){var i=e(this);i.data("inited")&&i.children(".adminify-field-wp_editor").adminify_field_wp_editor()}))},e.fn.adminify_reload_script=function(i){var n=e.extend({dependency:!0},i);return this.each((function(){var i=e(this);i.data("inited")||(i.children(".adminify-field-accordion").adminify_field_accordion(),i.children(".adminify-field-backup").adminify_field_backup(),i.children(".adminify-field-background").adminify_field_background(),i.children(".adminify-field-code_editor").adminify_field_code_editor(),i.children(".adminify-field-date").adminify_field_date(),i.children(".adminify-field-datetime").adminify_field_datetime(),i.children(".adminify-field-fieldset").adminify_field_fieldset(),i.children(".adminify-field-gallery").adminify_field_gallery(),i.children(".adminify-field-group").adminify_field_group(),i.children(".adminify-field-icon").adminify_field_icon(),i.children(".adminify-field-link").adminify_field_link(),i.children(".adminify-field-media").adminify_field_media(),i.children(".adminify-field-map").adminify_field_map(),i.children(".adminify-field-repeater").adminify_field_repeater(),i.children(".adminify-field-slider").adminify_field_slider(),i.children(".adminify-field-sortable").adminify_field_sortable(),i.children(".adminify-field-sorter").adminify_field_sorter(),i.children(".adminify-field-spinner").adminify_field_spinner(),i.children(".adminify-field-switcher").adminify_field_switcher(),i.children(".adminify-field-tabbed").adminify_field_tabbed(),i.children(".adminify-field-typography").adminify_field_typography(),i.children(".adminify-field-upload").adminify_field_upload(),i.children(".adminify-field-wp_editor").adminify_field_wp_editor(),i.children(".adminify-field-border").find(".adminify-color").adminify_color(),i.children(".adminify-field-background").find(".adminify-color").adminify_color(),i.children(".adminify-field-color").find(".adminify-color").adminify_color(),i.children(".adminify-field-color_group").find(".adminify-color").adminify_color(),i.children(".adminify-field-link_color").find(".adminify-color").adminify_color(),i.children(".adminify-field-typography").find(".adminify-color").adminify_color(),i.children(".adminify-field-select").find(".adminify-chosen").adminify_chosen(),i.children(".adminify-field-checkbox").find(".adminify-checkbox").adminify_checkbox(),i.children(".adminify-field-button_set").find(".adminify-siblings").adminify_siblings(),i.children(".adminify-field-image_select").find(".adminify-siblings").adminify_siblings(),i.children(".adminify-field-palette").find(".adminify-siblings").adminify_siblings(),i.children(".adminify-field").find(".adminify-help").adminify_help(),n.dependency&&i.adminify_dependency(),i.data("inited",!0),e(a).trigger("adminify-reload-script",i))}))},e(a).ready((function(){e(".adminify-save").adminify_save(),e(".adminify-options").adminify_options(),e(".adminify-sticky-header").adminify_sticky(),e(".adminify-nav-options").adminify_nav_options(),e(".adminify-nav-metabox").adminify_nav_metabox(),e(".adminify-taxonomy").adminify_taxonomy(),e(".adminify-page-templates").adminify_page_templates(),e(".adminify-post-formats").adminify_post_formats(),e(".adminify-shortcode").adminify_shortcode(),e(".adminify-search").adminify_search(),e(".adminify-confirm").adminify_confirm(),e(".adminify-expand-all").adminify_expand_all(),e(".adminify-onload").adminify_reload_script(),e("#widgets-editor").adminify_widgets(),e("#widgets-right").adminify_widgets(),e("#menu-to-edit").adminify_nav_menu()}))}(jQuery,window,document)})();