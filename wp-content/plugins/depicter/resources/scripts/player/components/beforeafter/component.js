!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(Depicter,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{dpcBeforeAfter:()=>f});let i=!1;if("undefined"!=typeof window){const t={get passive(){i=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let o,n,r,l,d=[],a=new Map,c=!1,h=-1;const p=t=>d.some((e=>!(!e.options.allowTouchMove||!e.options.allowTouchMove(t)))),g=t=>{const e=t||window.event;return!!p(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)},v=(t,e)=>{if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(a.set(t,(null==a?void 0:a.get(t))?(null==a?void 0:a.get(t))+1:1),d.some((e=>e.targetElement===t)))return;const v={targetElement:t,options:e||{}};d=[...d,v],s?window.requestAnimationFrame((()=>{const t=document.documentElement,e=document.body;if(void 0===r){n={...t.style},r={...e.style};const{scrollY:i,scrollX:s,innerHeight:o}=window;t.style.height="100%",t.style.overflow="hidden",e.style.position="fixed",e.style.top=-i+"px",e.style.left=-s+"px",e.style.width="100%",e.style.height="auto",e.style.overflow="hidden",setTimeout((()=>window.requestAnimationFrame((()=>{const t=o-window.innerHeight;t&&i>=o&&(e.style.top=-(i+t)+"px")}))),300)}})):(t=>{if(void 0===l){const e=!!t&&!0===t.reserveScrollBarGap,i=window.innerWidth-document.documentElement.getBoundingClientRect().width;if(e&&i>0){const t=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);l=document.body.style.paddingRight,document.body.style.paddingRight=`${t+i}px`}}void 0===o&&(o=document.body.style.overflow,document.body.style.overflow="hidden")})(e),s&&(t.ontouchstart=t=>{1===t.targetTouches.length&&(h=t.targetTouches[0].clientY)},t.ontouchmove=e=>{1===e.targetTouches.length&&((t,e)=>{const i=t.targetTouches[0].clientY-h;!p(t.target)&&(e&&0===e.scrollTop&&i>0||(t=>!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight)(e)&&i<0?g(t):t.stopPropagation())})(e,t)},c||(document.addEventListener("touchmove",g,i?{passive:!1}:void 0),c=!0))},m=t=>{t?(a.set(t,(null==a?void 0:a.get(t))?(null==a?void 0:a.get(t))-1:0),0===(null==a?void 0:a.get(t))&&(d=d.filter((e=>e.targetElement!==t)),null==a||a.delete(t)),s&&(t.ontouchstart=null,t.ontouchmove=null,c&&0===d.length&&(document.removeEventListener("touchmove",g,i?{passive:!1}:void 0),c=!1)),0===d.length&&(s?(()=>{if(void 0!==r){const t=-parseInt(document.body.style.top,10),e=-parseInt(document.body.style.left,10),i=document.documentElement,s=document.body;i.style.height=(null==n?void 0:n.height)||"",i.style.overflow=(null==n?void 0:n.overflow)||"",s.style.position=r.position||"",s.style.top=r.top||"",s.style.left=r.left||"",s.style.width=r.width||"",s.style.height=r.height||"",s.style.overflow=r.overflow||"",window.scrollTo(e,t),r=void 0}})():(void 0!==l&&(document.body.style.paddingRight=l,l=void 0),void 0!==o&&(document.body.style.overflow=o,o=void 0)))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")},u=class{constructor(t,e={}){this.settings=Object.assign({controlColor:"#FFFFFF",controlShadow:!0,addCircle:!1,addCircleBlur:!0,showLabels:!1,labelOptions:{before:"Before",after:"After",onHover:!1},smoothing:!0,smoothingAmount:100,hoverStart:!1,verticalMode:!1,startingPoint:50,fluidMode:!1,removeScroll:!0},e),this.safariAgent=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),this.el=t,this.images={},this.wrapper=null,this.control=null,this.arrowContainer=null,this.arrowAnimator=[],this.active=!1,this.slideWidth=50,this.lineWidth=2,this.arrowCoordinates={circle:[5,3],standard:[8,0]}}mount(){this.safariAgent&&(this.settings.smoothing=!1),this._shapeContainer(),this._getImages(),this._buildControl(),this._events()}_events(){this.el.addEventListener("mousedown",(t=>{this._activate(!0),document.body.classList.add("icv__body"),this.settings.removeScroll&&v(this.el,{reserveScrollBarGap:!0}),this._slideCompare(t)})),this.el.addEventListener("mousemove",(t=>this.active&&this._slideCompare(t))),this.el.addEventListener("mouseup",(()=>this._activate(!1))),document.body.addEventListener("mouseup",(()=>{document.body.classList.remove("icv__body"),this.settings.removeScroll&&m(this.el),this._activate(!1)})),this.control.addEventListener("touchstart",(t=>{this._activate(!0),document.body.classList.add("icv__body"),this.settings.removeScroll&&v(this.el,{reserveScrollBarGap:!0})})),this.el.addEventListener("touchmove",(t=>{this.active&&this._slideCompare(t)})),this.el.addEventListener("touchend",(()=>{this._activate(!1),document.body.classList.remove("icv__body"),this.settings.removeScroll&&m(this.el)})),this.el.addEventListener("mouseenter",(()=>{this.settings.hoverStart&&this._activate(!0);let t=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach(((e,i)=>{e.style.cssText=`\n        ${this.settings.verticalMode?`transform: translateY(${t[1]*(0===i?1:-1)}px);`:`transform: translateX(${t[1]*(0===i?1:-1)}px);`}\n        `}))})),this.el.addEventListener("mouseleave",(()=>{let t=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach(((e,i)=>{e.style.cssText=`\n        ${this.settings.verticalMode?`transform: translateY(${0===i?`${t[0]}px`:`-${t[0]}px`});`:`transform: translateX(${0===i?`${t[0]}px`:`-${t[0]}px`});`}\n        `}))}))}_slideCompare(t){let e=this.el.getBoundingClientRect(),i=void 0!==t.touches?t.touches[0].clientX-e.left:t.clientX-e.left,s=void 0!==t.touches?t.touches[0].clientY-e.top:t.clientY-e.top,o=this.settings.verticalMode?s/e.height*100:i/e.width*100;o>=0&&o<=100&&(this.settings.verticalMode?this.control.style.top=`calc(${o}% - ${this.slideWidth/2}px)`:this.control.style.left=`calc(${o}% - ${this.slideWidth/2}px)`,this.settings.fluidMode?this.settings.verticalMode?this.wrapper.style.clipPath=`inset(0 0 ${100-o}% 0)`:this.wrapper.style.clipPath=`inset(0 0 0 ${o}%)`:this.settings.verticalMode?this.wrapper.style.height=`calc(${o}%)`:this.wrapper.style.width=`calc(${100-o}%)`)}_activate(t){this.active=t}_shapeContainer(){let t=document.createElement("div"),e=document.createElement("span"),i=document.createElement("span");e.classList.add("icv__label","icv__label-before","keep"),i.classList.add("icv__label","icv__label-after","keep"),this.settings.labelOptions.onHover&&(e.classList.add("on-hover"),i.classList.add("on-hover")),this.settings.verticalMode&&(e.classList.add("vertical"),i.classList.add("vertical")),e.innerHTML=this.settings.labelOptions.before||"Before",i.innerHTML=this.settings.labelOptions.after||"After",this.settings.showLabels&&(this.el.appendChild(e),this.el.appendChild(i)),this.el.classList.add("icv",this.settings.verticalMode?"icv__icv--vertical":"icv__icv--horizontal",this.settings.fluidMode?"icv__is--fluid":"standard"),t.classList.add("icv__imposter"),this.el.appendChild(t)}_buildControl(){let t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div");i.classList.add("icv__theme-wrapper");for(var o=0;o<=1;o++){let t=document.createElement("div"),e=`<svg\n      height="15"\n      width="15"\n       style="\n       transform: \n       scale(${this.settings.addCircle?.7:1.5})  \n       rotateZ(${0===o?this.settings.verticalMode?"-90deg":"180deg":this.settings.verticalMode?"90deg":"0deg"}); height: 20px; width: 20px;\n       \n       ${this.settings.controlShadow?`\n       -webkit-filter: drop-shadow( 0px 3px 5px rgba(0, 0, 0, .33));\n       filter: drop-shadow( 0px ${0===o?"-3px":"3px"} 5px rgba(0, 0, 0, .33));\n       `:""}\n       "\n       xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 15 15">\n       <path ${this.settings.addCircle?'fill="transparent"':`fill="${this.settings.controlColor}"`}\n       stroke="${this.settings.controlColor}"\n       stroke-linecap="round"\n       stroke-width="${this.settings.addCircle?3:0}"\n       d="M4.5 1.9L10 7.65l-5.5 5.4"\n       />\n     </svg>`;t.innerHTML+=e,this.arrowAnimator.push(t),i.appendChild(t)}let n=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach(((t,e)=>{t.classList.add("icv__arrow-wrapper"),t.style.cssText=`\n      ${this.settings.verticalMode?`transform: translateY(${0===e?`${n[0]}px`:`-${n[0]}px`});`:`transform: translateX(${0===e?`${n[0]}px`:`-${n[0]}px`});`}\n      `})),t.classList.add("icv__control"),t.style.cssText=`\n    ${this.settings.verticalMode?"height":"width "}: ${this.slideWidth}px;\n    ${this.settings.verticalMode?"top":"left "}: calc(${this.settings.startingPoint}% - ${this.slideWidth/2}px);\n    ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}\n    `,e.classList.add("icv__control-line"),e.style.cssText=`\n      ${this.settings.verticalMode?"height":"width "}: ${this.lineWidth}px;\n      background: ${this.settings.controlColor};\n        ${this.settings.controlShadow?"box-shadow: 0px 0px 15px rgba(0,0,0,0.33);":""}\n    `;let r=e.cloneNode(!0);s.classList.add("icv__circle"),s.style.cssText=`\n\n      ${this.settings.addCircleBlur&&"-webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px)"};\n      \n      border: ${this.lineWidth}px solid ${this.settings.controlColor};\n      ${this.settings.controlShadow&&"box-shadow: 0px 0px 15px rgba(0,0,0,0.33)"};\n    `,t.appendChild(e),this.settings.addCircle&&t.appendChild(s),t.appendChild(i),t.appendChild(r),this.arrowContainer=i,this.control=t,this.el.appendChild(t)}_getImages(){let t=this.el.querySelectorAll("img, video, .keep");this.el.innerHTML="",t.forEach((t=>{this.el.appendChild(t)}));let e=[...t].filter((t=>["img","video"].includes(t.nodeName.toLowerCase())));this.settings.verticalMode&&e.reverse();for(let t=0;t<=1;t++){let i=e[t];if(i.classList.add("icv__img"),i.classList.add(0===t?"icv__img-a":"icv__img-b"),1===t){let t=document.createElement("div"),s=e[1].src;t.classList.add("icv__wrapper"),t.style.cssText=`\n            width: ${100-this.settings.startingPoint}%; \n            height: ${this.settings.startingPoint}%;\n\n            ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}\n            ${this.settings.fluidMode&&`background-image: url(${s}); clip-path: inset(${this.settings.verticalMode?` 0 0 ${100-this.settings.startingPoint}% 0`:`0 0 0 ${this.settings.startingPoint}%`})`}\n        `,t.appendChild(i),this.wrapper=t,this.el.appendChild(this.wrapper)}}if(this.settings.fluidMode){let t=e[0].src,i=document.createElement("div");i.classList.add("icv__fluidwrapper"),i.style.cssText=`\n \n        background-image: url(${t});\n        \n      `,this.el.appendChild(i)}}};function w(t,e){"string"==typeof e?t.src=e:(t.src=e.src,e.srcset&&(t.srcset=e.srcset),e.sizes&&(t.sizes=e.sizes))}const f={component:t=>{const{className:e="dpc-before-after",beforeImage:i="",afterImage:s="",controlColor:o="#000",controlShadow:n=!1,addCircle:r=!1,addCircleBlur:l=!1,startingPoint:d=50,hoverStart:a=!1,removeScroll:c=!0}=t,h=document.createElement("div");h.classList.add(e,"depicter-no-swipe");const p=document.createElement("img"),g=document.createElement("img");return w(p,i),w(g,s),p.alt="",g.alt="",h.appendChild(p),h.appendChild(g),new u(h,{fluidMode:!0,controlShadow:n,addCircle:r,addCircleBlur:l,controlColor:o,startingPoint:d,hoverStart:a,removeScroll:c}).mount(),h},async:!1,pureScript:!0};return e})()));